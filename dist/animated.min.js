"use strict";!function(t){function r(t){this.name="AnimatedAnimationError",this.message=t||"Error"}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.AnimatedAnimationError=r}(window),function(t){function r(t){this.name="AnimatedAnimationError",this.message=t||"Error"}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.AnimatedSpriteError=r}(window),function(t){function r(r,i,n){if(!r)throw new t.AnimatedAnimationError("Invalid name");if(!(i instanceof Image))throw new t.AnimatedAnimationError("Invalid sprite");n=n||{},this.name=r,this.sprite=i;var e;for(e in n)if(n.hasOwnProperty(e)){if(void 0===this[e]||"function"==typeof this[e])throw new t.AnimatedAnimationError('Invalid option: "'+String(e)+'"');void 0===n[e]&&(n[e]=null),this[e]=n[e]}}r.prototype.name="",r.prototype.sprite=null,r.prototype.x=0,r.prototype.y=0,r.prototype.frameWidth=32,r.prototype.frameHeight=64,r.prototype.frames=1,r.prototype.vertivalOrientation=!1,r.prototype.runBackward=!1,r.prototype.framePaddingTop=0,r.prototype.framePaddingRight=0,r.prototype.framePaddingBottom=0,r.prototype.framePaddingLeft=0,t.AnimatedAnimation=r}(window),function(t){function r(){}r.prototype.sprites={},r.prototype.animations={},r.prototype.addSprite=function(r,i){if(r=String(r||""),i=String(i||""),!r)throw new t.AnimatedSpriteError("Invalid name");if(!i)throw new t.AnimatedSpriteError("Invalid img src");return this.sprites[r]=new Image,this.sprites[r].src=i,this.sprites[r].addEventListener("error",function(){throw new t.AnimatedSpriteError('Unable to load sprite "'+String(r)+'" from location: "'+String(i)+'"')}),this},r.prototype.createAnimation=function(r,i,n){if(i=String(i||""),!this.sprites[i])throw new t.AnimatedSpriteError("Invalid sprite name");return new t.AnimatedAnimation(r,this.sprites[i],n)},r.prototype.addAnimation=function(r){if(!(r instanceof t.AnimatedAnimation))throw new t.AnimatedAnimationError("Invalid animation. Parameter must be an instanceof Animation");return this.animations[r.name]=r,this},r.prototype.removeAnimation=function(t){return this.animations[t]?(delete this.animations[t],!0):!1},r.prototype.canvasDrawFrame=function(t,r,i,n,e,o,a){var p=this.animations[r];if(!p)throw new Error("Invalid animation name");n=parseInt(n,10),e=parseInt(e,10),i=parseInt(i,10)||1,o=parseInt(o,10)||p.frameWidth,a=parseInt(a,10)||p.frameHeight,i%=p.frames,p.runBackward&&(i=p.frames-(i+1));var m=p.x,s=p.y;p.vertivalOrientation?s=p.y+i*p.frameHeight:m=p.x+i*p.frameWidth,t.drawImage(p.sprite,m,s,p.frameWidth,p.frameHeight,n,e,o,a)},t.Animated=r}(window);