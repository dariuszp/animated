<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Animated DEMO</title>
    <style>
        #demo {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 1px solid black;
            background: #ccc;
            margin: -257px -257px;
        }
    </style>
</head>
<body>

    <canvas id="demo" width="512" height="512"></canvas>

    <script src="../animated.js"></script>
    <script src="test/zombie.js"></script>
    <script type="text/javascript">
        'use strict';

        var canvas = document.getElementById('demo'),
            ctx = canvas.getContext('2d'),
                directions = [
                        'top',
                        'top_right',
                        'right',
                        'bottom_right',
                        'bottom',
                        'bottom_left',
                        'left',
                        'top_left'
                ];

        var diff = 0,
                i = 0,
                direction = directions[0];
        function render(ts) {
            requestAnimationFrame( render );
            ctx.clearRect(0, 0, 512, 512);

            if (ts-diff > 2000) {
                i++;
                if (i > 7) {
                    i = 0;
                }
                direction = directions[i];
                diff = ts;
            }

            // draw
            zombie.canvasDrawFrame(ctx, 'walk.' + String(direction), Math.floor(ts/100), 192, 192);
            // end draw
        }

        render();
    </script>

</body>
</html>